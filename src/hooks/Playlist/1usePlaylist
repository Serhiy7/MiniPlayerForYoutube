Описание
Этот код определяет пользовательский хук usePlaylist, который загружает и управляет плейлистом из YouTube. Хук использует YouTube Data API для получения информации о видео в плейлисте и предоставляет функции для управления текущим треком.

Интерфейсы
PlaylistItem: Определяет структуру элемента плейлиста.

videoId: Идентификатор видео на YouTube.
title: Название видео.
YouTubeApiResponse: Определяет структуру ответа от YouTube API.

items: Массив элементов плейлиста.
nextPageToken: Токен для получения следующей страницы результатов.
Функция fetchPage
Функция fetchPage выполняет запрос к YouTube API для получения элементов плейлиста:

Параметры:

playlistId: Идентификатор плейлиста на YouTube.
apiKey: Ключ API для доступа к YouTube Data API.
pageToken: Токен для получения определенной страницы результатов.
Логика:

Формирует URL для запроса к YouTube API с параметрами.
Выполняет запрос и возвращает ответ в формате JSON.
Если запрос не удался, выбрасывает ошибку.
Хук usePlaylist
Хук usePlaylist управляет состоянием плейлиста и предоставляет функции для его загрузки и управления.

Состояние
playlist: Массив элементов плейлиста.
currentIndex: Индекс текущего воспроизводимого элемента.
loading: Флаг, указывающий на загрузку данных.
error: Сообщение об ошибке, если таковая имеется.
Методы
loadPlaylist: Асинхронная функция для загрузки плейлиста.

Проверяет наличие API ключа и идентификатора плейлиста.
Загружает страницы элементов плейлиста, пока не будет достигнут лимит страниц или не закончатся страницы.
Обновляет состояние плейлиста и текущего индекса.
changeTrack: Функция для изменения текущего трека.

Принимает новый индекс, флаг автовоспроизведения, функции для воспроизведения, перемотки и паузы.
Обновляет текущий индекс и управляет воспроизведением.